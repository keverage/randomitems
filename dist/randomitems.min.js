!function(i){"use strict";i.RandomItems=function(t,e){return this.elements={},this.elements.container=t,this.elements.items=this.elements.container.children(),i.extend(this.settings={},i.RandomItems.defaults,e),this.order=[],this.loop,this.timers={},this.init()},i.RandomItems.defaults={activeClass:"is-active",duration:3e3,loop:!0,shuffleLoop:!0,minItems:1,onChange:void 0},i.RandomItems.prototype={init:function(){var t=this;if(t.elements.items.length){for(var e=0;e<t.elements.items.length;e++)t.order[e]=e;t.shuffleOrder(),t.applyOrder(),t.settings.loop&&(t.loop=setInterval(function(){t.settings.shuffleLoop&&t.shuffleOrder(),t.applyOrder()},t.elements.items.length*t.settings.duration))}return t},destroy:function(){this.settings.loop&&clearInterval(this.loop);for(var t=0;t<this.elements.items.length;t++)void 0!==this.timers[t]&&(void 0!==this.timers[t].add&&clearTimeout(this.timers[t].add),void 0!==this.timers[t].remove&&clearTimeout(this.timers[t].remove));return this.elements.items.removeClass(this.settings.activeClass),this},shuffleOrder:function(){return this.order.sort(function(){return.5-Math.random()}),this},applyOrder:function(){var s=this;return i.each(s.order,function(t,e){s.applyItem(t,s.elements.items.eq(e))}),s},applyItem:function(t,e){var s=this;return s.timers[t]={},s.timers[t].add=setTimeout(function(){e.addClass(s.settings.activeClass),void 0!==s.settings.onChange&&s.settings.onChange.call({randomItems:s,item:e,active:!0,index:t}),s.timers[t].remove=setTimeout(function(){e.removeClass(s.settings.activeClass),void 0!==s.settings.onChange&&s.settings.onChange.call({randomItems:s,item:e,active:!1,index:t})},s.settings.minItems*s.settings.duration)},t*s.settings.duration),s}},i.fn.randomItems=function(t){return new i.RandomItems(i(this),t)}}(jQuery);